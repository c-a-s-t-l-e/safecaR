---
title: "Get Recalls"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{safecaR_recalls}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, include = FALSE}
library(safecaR)
```

### Introduction

The `safecaR` package provides a tidy interface to **NHTSA APIs**, including crash ratings, recalls, and complaints.

This article focuses on the **recalls** API, which provides access to vehicle recall information reported to the National Highway Traffic Safety Administration (NHTSA).

Using the recalls interface, you can:

- List available model years, makes, and models

- Retrieve detailed recall records for individual vehicles

All functions return **tibbles**, making them easy to use in data analysis pipelines.

### Listing Model Years

```{r}
# List available years in the NHTSA repository
years <- list_recall_years()
head(years)
```
### Listing Makes for a Year
```{r}
# List makes for 2022
makes <- list_recall_makes(2022)
head(makes)
```


### Listing Models for a Make and Year

```{r}
# List models for Acura in 2022
models <- list_recall_models(2022, "Acura")
head(models)
```

### Retrieving Recalls
```{r}

recalls <- get_recalls(2022, "ACURA", "RDX")
head(recalls)
```

### Retrieving Recalls by Campaign Number
```{r}
recalls <- get_recalls_by_campaign_number("24V064000")
head(recalls)
```

### Notes

- Function inputs are case-insensitive. For example, "ACURA", "Acura", and "acura" are all valid.

- All outputs are tidy tibbles for easy integration with dplyr or ggplot2.

### References

[NHTSA Safety Ratings API](https://www.nhtsa.gov/nhtsa-datasets-and-apis)
